(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{195:function(e,t,n){e.exports=n(286)},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},247:function(e,t,n){},254:function(e,t,n){},256:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),u=n(98),i=n(70),d=n(74),s=n(164),l=n(36),m=n.n(l),f=n(62),p=n(130),E=n(48),g=n(193),O=function(e){return g.b.success(e)},h=function(e){return{type:"CART/GET_GOODS",goods:e}},v=function(e){return{type:"CART/ADD_GOOD",good:e}},b=function(e){return{type:"CART/DELETE_GOOD",id:e}},G=n(120),y=n.n(G),_=y.a.create({baseURL:"https://my-json-server.typicode.com/AlesssArver/react-shopping-cart/cart",withCredentials:!0,headers:{"Content-Type":"application/json"}}),C=function(){return _.get("/").then((function(e){return e.data}))},j=function(e){return _.post("/",Object(E.a)({},e)).then((function(e){return e.data}))},D=function(e){return _.delete("".concat(e)).then((function(e){return e.data}))},w={goods:[]},N=function(e){return{type:"GOOD/GET_GOODS",goods:e}},T=function(e){return{type:"GOOD/CREATE_GOOD",good:e}},q=function(e){return{type:"GOOD/INCREMENT_GOOD",good:e}},k=function(e){return{type:"GOOD/DELETE_GOOD",id:e}},x=y.a.create({baseURL:"https://my-json-server.typicode.com/AlesssArver/react-shopping-cart/goods",withCredentials:!0,headers:{"Content-Type":"application/json"}}),A=function(){return x.get("?_sort=id&_order=desc").then((function(e){return e.data}))},R=function(e,t,n){return x.post("/",{name:e,price:t,quantity:n}).then((function(e){return e.data}))},S=function(e,t,n,a){return x.put("".concat(e),{name:t,price:n,quantity:a}).then((function(e){return e.data}))},L=function(e){return x.delete("".concat(e)).then((function(e){return e.data}))},I={goods:[]},B=Object(d.c)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART/GET_GOODS":return Object(E.a)({},e,{goods:t.goods});case"CART/ADD_GOOD":return Object(E.a)({},e,{goods:[].concat(Object(p.a)(e.goods),[t.good])});case"CART/DELETE_GOOD":return Object(E.a)({},e,{goods:e.goods.filter((function(e){return e.id!==t.id}))});default:return e}},good:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOOD/GET_GOODS":return Object(E.a)({},e,{goods:t.goods});case"GOOD/CREATE_GOOD":return Object(E.a)({},e,{goods:[t.good].concat(Object(p.a)(e.goods))});case"GOOD/INCREMENT_GOOD":return Object(E.a)({},e,{goods:e.goods.map((function(e){return e.id===t.good.id?Object(E.a)({},e,{name:t.good.name,price:t.good.price,quantity:t.good.quantity}):e}))});case"GOOD/DELETE_GOOD":return Object(E.a)({},e,{goods:e.goods.filter((function(e){return e.id!==t.id}))});default:return e}}}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,M=Object(d.e)(B,F(Object(d.a)(s.a)));window._store=M;var Q=M,z=(n(243),n(19)),P=(n(244),n(148)),U=n(3),J=n.n(U),V=(n(245),function(e){var t=e.children,n=e.type,a=e.htmlType,o=e.className,c=e.size,u=e.onClick,i=e.rounded;return r.a.createElement(P.a,{onClick:u,className:J()("button",o,{"button--large":"large"===c,"button--medium":"medium"===c,"button--small":"small"===c,"button--rounded":i}),type:n,htmlType:a},t)}),X=n(287),$=(n(247),function(e){var t=e.children,n=e.className,a=e.title,o=e.actions;return r.a.createElement(X.a,{title:a,className:J()("card",n),actions:o},t)}),H=function(e){var t=e.id,n=e.name,a=e.price,o=e.quantity,c=e.deletetGood;return r.a.createElement($,{title:n,actions:[r.a.createElement(V,{onClick:function(){return c(t)},className:"button--danger",key:"delete"},"Delete")]},r.a.createElement("ul",null,r.a.createElement("li",null,"price: ",a,"$"),r.a.createElement("li",null,"puantity: ",o)))},K=function(e){var t=e.goods,n=e.deletetGood,a=t.map((function(e){return r.a.createElement(H,Object.assign({},e,{key:e.id,deletetGood:n}))}));return r.a.createElement("div",{className:"goods__wrapper"},r.a.createElement("div",{className:"page__title"},r.a.createElement("h1",null,"Cart")),r.a.createElement("div",{className:"goods"},a))},W=(n(254),n(190)),Y=n(112),Z=n(289),ee=(n(256),Y.a().shape({name:Y.b().required("Name is required"),price:Y.b().required("Price is required"),quantity:Y.b().required("Quantity is required")})),te=function(e){var t=e.createGood;return r.a.createElement(X.a,{className:"add-good--card"},r.a.createElement(W.a,{initialValues:{name:"",price:"",quantity:""},validationSchema:ee,onSubmit:function(e,n){var a=n.resetForm;t(e.name,e.price,e.quantity),a()}},(function(e){var t=e.values,n=(e.errors,e.touched,e.handleChange),a=e.handleBlur,o=e.handleSubmit;e.isSubmitting;return r.a.createElement("form",{className:"add-good--form",onSubmit:o},r.a.createElement("div",{className:"field"},r.a.createElement(Z.a,{name:"name",placeholder:"Name",onChange:n,onBlur:a,value:t.name})),r.a.createElement("div",{className:"field"},r.a.createElement(Z.a,{name:"price",placeholder:"Price",onChange:n,onBlur:a,value:t.price})),r.a.createElement("div",{className:"field"},r.a.createElement(Z.a,{name:"quantity",placeholder:"Quantity",onChange:n,onBlur:a,value:t.quantity})),r.a.createElement("div",null,r.a.createElement(V,{type:"primary",htmlType:"submit"},"Create")))})))},ne=(n(263),function(e){var t=e.id,n=e.name,a=e.price,o=e.quantity,c=e.incrementGood,u=(e.deletetGood,e.addToCard);return r.a.createElement($,{className:"good-card",title:n},r.a.createElement("ul",null,r.a.createElement("li",null,"price: ",a,"$"),r.a.createElement("li",null,"puantity: ",o)),r.a.createElement("div",{className:"buttons__wrapper"},r.a.createElement(V,{onClick:function(){return c({id:t,name:n,price:a,quantity:o-=1})},size:"small"},"-"),r.a.createElement(V,{onClick:function(){return c({id:t,name:n,price:a,quantity:o+=1})},size:"small"},"+")),r.a.createElement(V,{className:"good-card--button",onClick:function(){return u({id:t,name:n,price:a,quantity:o})}},"Add to Cart"))}),ae=n(288),re=(n(264),function(e){var t=e.goodsQuantity;return r.a.createElement("div",{className:"navbar__wrapper"},r.a.createElement("div",{className:"navbar"},r.a.createElement(u.b,{to:"/goods",className:"link"},r.a.createElement(ae.a,null,"\u0422\u043e\u0432\u0430\u0440\u044b")),r.a.createElement(u.b,{to:"/cart",className:"link"},r.a.createElement(ae.a,null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",t))))}),oe=r.a.memo((function(e){var t=e.goods,n=e.createGood,a=e.incrementGood,o=e.deletetGood,c=e.addToCard,u=t.map((function(e){return r.a.createElement(ne,Object.assign({},e,{key:e.id,incrementGood:a,deletetGood:o,addToCard:c}))}));return r.a.createElement("div",{className:"goods__wrapper"},r.a.createElement("div",{className:"page__title"},r.a.createElement("h1",null,"Goods")),r.a.createElement(te,{createGood:n}),r.a.createElement("div",{className:"goods"},u))})),ce=Object(i.b)((function(e){return{goods:e.cart.goods}}),{getGoods:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:n=e.sent,t(h(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},deletetGood:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:n(b(e)),O("Good was deleted from cart");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(a.useEffect)((function(){e.getGoods()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{goods:e.goods,deletetGood:e.deletetGood}))})),ue=Object(i.b)((function(e){return{goods:e.good.goods}}),{getGoods:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:n=e.sent,t(N(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},createGood:function(e,t,n){return function(){var a=Object(f.a)(m.a.mark((function a(r){var o,c,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=parseInt(t),c=parseInt(n),a.next=4,R(e,o,c);case 4:u=a.sent,r(T(Object(E.a)({},u))),O("Good was added");case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},incrementGood:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e.id,e.name,e.price,e.quantity);case 2:a=t.sent,n(q(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deletetGood:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:n(k(e)),O("Good was deleted");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addToCard:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:n(v(e)),O("Good was added in cart");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){return Object(a.useEffect)((function(){e.getGoods()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{goods:e.goods,createGood:e.createGood,incrementGood:e.incrementGood,deletetGood:e.deletetGood,addToCard:e.addToCard}))})),ie=Object(i.b)((function(e){return{goods:e.cart.goods}}))((function(e){var t=e.goods;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{goodsQuantity:t.length}))})),de=function(){return r.a.createElement("div",{className:"main__container"},r.a.createElement(ie,null),r.a.createElement(z.b,{exact:!0,path:"/",render:function(){return r.a.createElement(z.a,{to:"/goods"})}}),r.a.createElement(z.b,{path:"/cart",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(z.b,{path:"/goods",render:function(){return r.a.createElement(ue,null)}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{basename:"/react-shopping-cart"},r.a.createElement(i.a,{store:Q},r.a.createElement(de,null)))),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.d9f07356.chunk.js.map